<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>História Antes de Uma História</title>

    <link rel="stylesheet" href="css/hauh.css">
    <link href="http://fonts.googleapis.com/css?family=Julius+Sans+One|Libre+Baskerville" rel="stylesheet" type="text/css" />

</head>

<body>
    <header>
        <nav>
            <!-- <a href="" class="brand">
                <img class="brand-image" src="img/titulo.png" alt="" />
            </a> -->

            <!-- Definições para o menu responsivo -->
            <input id="bmenub" type="checkbox" class="show">
            <label for="bmenub" class="burger pseudo button">&#8801;</label>

            <div class="menu">
                <a href="home" data-navigo id="homeMenuItem" class="menu-item-selected">Home</a>
                <a href="historia" data-navigo id="historiaMenuItem">História</a>
                <a href="depoimentos" data-navigo id="depoimentosMenuItem">Depoimentos</a>
                <a href="carta" data-navigo id="cartaMenuItem">Carta</a>
                <a href="processo" data-navigo id="processoMenuItem">Processo</a>
                <a href="equipe" data-navigo id="equipeMenuItem">Equipe</a>
                <a href="noticias" data-navigo id="noticiasMenuItem">Notícias</a>
                <a href="contato" data-navigo id="contatoMenuItem">Contato</a>
            </div>
        </nav>
    </header>

    <main></main>

    <footer>
        <img class="nca-logo" src="img/nca_logo.png" />
    </footer>

    <script src="js/navigo.js" charset="utf-8"></script>
    <script type="text/javascript">
        function navigate(page) {
            var request = new XMLHttpRequest();
            request.open('GET', '_'+ page +'.html', true);

            request.onload = function() {
                if (request.status >= 200 && request.status < 400) {
                    // Success!
                    var main = document.getElementsByTagName('main')[0];
                    main.innerHTML = request.responseText;

                    var selectedMenuItem = document.getElementsByClassName('menu-item-selected')[0]
                    selectedMenuItem.className = ''
                    var menuAnchor = document.querySelectorAll('a[href="'+ page +'"]')[0];
                    menuAnchor.className = 'menu-item-selected'

                } else {
                    // We reached our target server, but it returned an error
                }
            };

            request.onerror = function(ex) {
                console.log(ex)
            };

            request.send();
        }

        var router = new Navigo(null, true)

        router
            .on({
                'historia': function() {
                    navigate('historia')
                },
                'depoimentos': function() {
                    navigate('depoimentos')
                },
                'carta': function() {
                    navigate('carta')
                },
                'processo': function() {
                    navigate('processo')
                },
                'equipe': function() {
                    navigate('equipe')
                },
                'noticias': function() {
                    navigate('noticias')
                },
                'contato': function() {
                    navigate('contato')
                },
                '*': function() {
                    navigate('home')
                }
            }).resolve()
    </script>
</body>

</html>
